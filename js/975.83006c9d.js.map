{"version":3,"file":"js/975.83006c9d.js","mappings":"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","sources":["webpack://work/./src/mixins/GetCart.js","webpack://work/./src/mixins/GetFavorite.js","webpack://work/./src/views/Front/ProductDetailView.vue","webpack://work/./src/views/Front/ProductDetailView.vue?11e5"],"sourcesContent":["export default {\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getCarts () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.cartLength = res.data.data.carts.length\r\n            this.emitter.emit('push-CartNotice', {\r\n              data: this.cartLength\r\n            })\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n","export default {\r\n  methods: {\r\n    getFavorite () {\r\n      if (localStorage.getItem('favoriteItem')) {\r\n        const tempList = localStorage.getItem('favoriteItem')\r\n        this.idList = JSON.parse(tempList)\r\n        this.favoriteLength = this.idList.length\r\n      } else {\r\n        this.idList = []\r\n        this.favoriteLength = 0\r\n      }\r\n      this.emitter.emit('push-FavNotice', {\r\n        data: this.favoriteLength\r\n      })\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><router-link class=\"breadcrumb-text\" to=\"/\">首頁</router-link></li>\r\n        <li class=\"breadcrumb-item\"><router-link class=\"breadcrumb-text\" to=\"/products\">產品</router-link></li>\r\n        <li class=\"breadcrumb-item active link-title\" aria-current=\"page\">{{ product.title }}</li>\r\n      </ol>\r\n    </nav>\r\n    <div class=\"row\">\r\n        <div class=\"col-12 col-md-6 d-flex\">\r\n          <img class=\"img-fluid rounded float-left\" :src=\"product.imageUrl\" :alt=\"product.title\">\r\n        </div>\r\n        <div class=\"col-12 col-md-6 d-flex flex-column\">\r\n            <h1>{{ product.title }}</h1>\r\n            <br>\r\n            <p>{{ product.description }}</p>\r\n            <p class=\"detail-content\">{{ product.content }}</p>\r\n            <div class=\"row mt-3\">\r\n                <div class=\"input-group col-lg-7 col-md-6 w-auto detail-qty mt-auto\">\r\n                    <button class=\"btn btn-outline-secondary\" type=\"button\"\r\n                      @click.prevent=\"reQty(-1)\"\r\n                    :disabled=\"product_qty === 1\">-\r\n                    </button>\r\n                    <input type=\"number\" class=\"form-control\" placeholder=\"Recipient's username\"\r\n                        aria-label=\"qty\" v-model=\"product_qty\"\r\n                        min=\"1\" max=\"15\" style=\"width: 150px;\">\r\n                    <button class=\"btn btn-outline-secondary\" type=\"button\"\r\n                    @click.prevent=\"reQty(1)\" :disabled=\"product_qty === 15\">+\r\n                    </button>\r\n                </div>\r\n                <div class=\"col-lg-5 col-md-6 mt-3 mt-lg-0 mx-25\">\r\n                    <h3 class=\"text-lg-end\">\r\n                        <span v-if=\"product.origin_price !== product.price\"\r\n                            class=\"text-decoration-line-through fs-6\">\r\n                            NT${{ $filters.currency(product.origin_price) }}<br>\r\n                        </span>\r\n                        <span>NT${{ $filters.currency(product.price) }}</span>\r\n                            / {{ product.unit }}\r\n                    </h3>\r\n                </div>\r\n                <div>\r\n                    <button type=\"button\" class=\"btn mt-2 me-2 button-light-color\"\r\n                     @click=\"updateFavorite(item)\">\r\n                     <span v-if=\"idList.every((id) => productId !== id)\">\r\n                      <i class=\"bi bi-heart\" title=\"加入收藏\"></i> 加入收藏\r\n                     </span>\r\n                     <span v-else><i class=\"bi bi-heart-fill\" title=\"加入收藏\"></i> 取消收藏</span>\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn button-light-color mt-2\"\r\n                      @click.prevent=\"addCart()\">\r\n                        <i class=\"bi bi-cart-plus-fill\"></i> 加入購物車\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <div class=\"text-center m-5 text-deep-color\">\r\n        <h3>產品說明及保養</h3>\r\n        <p class=\"mt-3 text-start\">\r\n          *避免直接陽光照射： 永生花束對陽光過於直接的照射較為敏感，因此請避免將花束暴露在強烈的陽光下，以防止花朵顏色褪色。<br>\r\n          *避免潮濕環境： 請避免將花束放在潮濕的環境中，以免影響花材的質地和保持時間。<br>\r\n          *定期吹塵： 您可以使用吹風機低溫吹風，輕輕將灰塵和污垢吹走，但請保持一定距離，避免對花朵造成損害。<br>\r\n          *避免觸摸： 盡量避免觸摸花朵，以免油脂和污垢影響花材的外觀。<br>\r\n          *乾燥環境： 若您的花束長時間處於潮濕環境，可以將其放在干燥通風處幾天，讓花朵恢復最佳狀態。<br>\r\n        </p>\r\n        <p class=\"mt-4 fs-5 text-danger\">這束永生花束將成為您生活中的一份美麗，無論是用於裝飾空間，還是作為一份珍貴的禮物，都將持久地保留自然花朵的美感。<br>\r\n          請按照以上保養指南，使這份美麗繼續陪伴您。</p>\r\n    </div>\r\n    <hr>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport cartMixin from '@/mixins/GetCart'\r\nimport favoriteMixin from '@/mixins/GetFavorite'\r\nexport default {\r\n  inject: ['emitter'],\r\n  mixins: [cartMixin, favoriteMixin],\r\n  data () {\r\n    return {\r\n      productId: '',\r\n      product: {},\r\n      product_qty: 1,\r\n      idList: [],\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.productId}`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.product = res.data.product\r\n          }\r\n        })\r\n    },\r\n    addCart () {\r\n      this.isLoading = true\r\n      const cart = {\r\n        product_id: this.productId,\r\n        qty: this.product_qty\r\n      }\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.post(api, { data: cart })\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          this.getCarts()\r\n          this.emitter.emit('push-message', {\r\n            style: 'success',\r\n            title: '已加入購物車'\r\n          })\r\n        })\r\n    },\r\n    updateFavorite () {\r\n      if (this.idList.every((id) => this.productId !== id)) {\r\n        this.idList.push(this.productId)\r\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList))\r\n        this.emitter.emit('push-message', {\r\n          style: 'success',\r\n          title: '已新增至收藏'\r\n        })\r\n      } else {\r\n        this.idList.indexOf(this.productId)\r\n        this.idList.splice(this.idList.indexOf(this.productId), 1)\r\n        localStorage.setItem('favoriteItem', JSON.stringify(this.idList))\r\n        this.emitter.emit('push-message', {\r\n          style: 'danger',\r\n          title: '已取消收藏'\r\n        })\r\n      }\r\n      this.getFavorite()\r\n    },\r\n    reQty (num) {\r\n      this.product_qty += (num)\r\n    }\r\n  },\r\n  created () {\r\n    this.productId = this.$route.params.productId\r\n    this.getProduct()\r\n    this.getFavorite()\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.breadcrumb{\r\n    font-size: 20px;\r\n}\r\n.breadcrumb-text{\r\n    color: rgb(47, 126, 40);\r\n    text-decoration: none;\r\n}\r\n.breadcrumb-text:hover{\r\n    color: pink;\r\n}\r\n.link-title{\r\n    color: rgb(47, 126, 40) !important;\r\n}\r\n</style>\r\n","import { render } from \"./ProductDetailView.vue?vue&type=template&id=17ea5105\"\nimport script from \"./ProductDetailView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetailView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetailView.vue?vue&type=style&index=0&id=17ea5105&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["inject","methods","getCarts","this","isLoading","api","$http","get","then","res","data","success","cartLength","carts","length","emitter","emit","getFavorite","localStorage","getItem","tempList","idList","JSON","parse","favoriteLength","class","_createElementVNode","title","_createVNode","_component_Loading","active","$data","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","_hoisted_5","_hoisted_6","_toDisplayString","product","_hoisted_7","_hoisted_8","src","imageUrl","alt","_hoisted_10","_hoisted_11","description","_hoisted_12","content","_hoisted_13","_hoisted_14","type","onClick","_cache","_withModifiers","$event","$options","reQty","disabled","product_qty","_hoisted_15","placeholder","min","max","style","_hoisted_16","_hoisted_17","_hoisted_18","origin_price","price","_createElementBlock","_hoisted_19","_ctx","$filters","currency","_hoisted_20","unit","updateFavorite","item","every","id","productId","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","addCart","_hoisted_25","_hoisted_26","mixins","cartMixin","favoriteMixin","getProduct","cart","product_id","qty","post","push","setItem","stringify","indexOf","splice","num","created","$route","params","__exports__","render"],"sourceRoot":""}