"use strict";(self["webpackChunkwork"]=self["webpackChunkwork"]||[]).push([[138],{4138:function(t,e,s){s.r(e),s.d(e,{default:function(){return E}});var r=s(3396),l=s(7139);const i=(0,r._)("section",{class:"mt-3"},[(0,r._)("div",{class:"container"},[(0,r._)("div",{class:"row justify-content-center align-items-center position-relative mt-5"},[(0,r._)("div",{class:"col-10"},[(0,r._)("div",{class:"progress mx-3",style:{height:"5px"}},[(0,r._)("div",{class:"progress-bar bg-info",role:"progressbar",style:{width:"100%"},"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"})])]),(0,r._)("div",{class:"col-10 d-flex justify-content-between position-absolute top-0 translate-middle-y mt-3"},[(0,r._)("div",{class:"text-center"},[(0,r._)("span",{class:"badge bg-brown rounded-circle p-2",style:{width:"2rem",height:"2rem"}},[(0,r._)("i",{class:"bi bi-basket"})]),(0,r._)("p",{class:"mb-0"},"購物車")]),(0,r._)("div",{class:"text-center"},[(0,r._)("span",{class:"badge bg-brown rounded-circle p-2",style:{width:"2rem",height:"2rem"}},[(0,r._)("i",{class:"bi bi-clipboard-check-fill"})]),(0,r._)("p",{class:"mb-0"},"填寫資料")]),(0,r._)("div",{class:"text-center"},[(0,r._)("span",{class:"badge bg-brown rounded-circle p-2",style:{width:"2rem",height:"2rem"}},[(0,r._)("i",{class:"bi bi-credit-card-fill"})]),(0,r._)("p",{class:"mb-0"},"付款確認")])])])])],-1),a={class:"my-7"},c={class:"container"},d={class:"border p-3 p-md-5"},n={class:"row justify-content-center"},o={class:"col-12 col-lg-8 py-3 text-brown"},u=(0,r._)("h2",{class:"fs-3"},[(0,r._)("i",{class:"bi bi-c-circle"}),(0,r.Uk)("購物清單")],-1),_={class:"table align-middle mt-3"},b=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"table-title"},"品名"),(0,r._)("th",{class:"text-end table-title"},"數量"),(0,r._)("th",{class:"text-end table-title"},"小計")])],-1),h={class:"text-end"},p={class:"text-end"},w={class:"w-100"},g=(0,r._)("td",{class:"text-end py-2"},"運費",-1),m={class:"text-end w-50"},y={class:"border-top border-dark"},f=(0,r._)("td",{class:"text-end py-2"},"總計金額",-1),v={class:"text-end w-50"},x={class:"col-12 col-lg-8 mt-3"},k=(0,r._)("h2",{class:"fs-3 text-brown"},[(0,r._)("i",{class:"bi bi-c-circle"}),(0,r.Uk)("收件人資料")],-1),z={class:"table border mt-3 border-dark"},$=(0,r._)("th",{width:"100",class:"table-title"},"Email",-1),L=(0,r._)("th",{class:"table-title"},"姓名",-1),D=(0,r._)("th",{class:"table-title"},"收件人電話",-1),O=(0,r._)("th",{class:"table-title"},"收件人地址",-1),I=(0,r._)("th",{class:"table-title"},"付款狀態",-1),C={key:0},j={key:1,class:"text-success"},T={key:0,class:"text-end"};function q(t,e,s,q,H,N){const U=(0,r.up)("Loading");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(U,{active:H.isLoading},null,8,["active"]),i,(0,r._)("section",a,[(0,r._)("div",c,[(0,r._)("div",d,[(0,r._)("div",n,[(0,r._)("form",o,[u,(0,r._)("table",_,[b,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(H.order.products,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,(0,l.zw)(e.product.title),1),(0,r._)("td",h,(0,l.zw)(e.qty)+"/"+(0,l.zw)(e.product.unit),1),(0,r._)("td",p,(0,l.zw)(t.$filters.currency(e.product.price)),1)])))),128))])]),(0,r._)("table",w,[(0,r._)("tbody",null,[(0,r._)("tr",null,[g,(0,r._)("td",m,"NT$ "+(0,l.zw)(t.$filters.currency(H.freight)),1)]),(0,r._)("tr",y,[f,(0,r._)("td",v,"NT$ "+(0,l.zw)(t.$filters.currency(H.order.total+H.freight)),1)])])])]),(0,r._)("form",x,[k,(0,r._)("table",z,[(0,r._)("tbody",null,[(0,r._)("tr",null,[$,(0,r._)("td",null,(0,l.zw)(H.order.user.email),1)]),(0,r._)("tr",null,[L,(0,r._)("td",null,(0,l.zw)(H.order.user.name),1)]),(0,r._)("tr",null,[D,(0,r._)("td",null,(0,l.zw)(H.order.user.tel),1)]),(0,r._)("tr",null,[O,(0,r._)("td",null,(0,l.zw)(H.order.user.address),1)]),(0,r._)("tr",null,[I,(0,r._)("td",null,[H.order.is_paid?((0,r.wg)(),(0,r.iD)("span",j,"付款完成")):((0,r.wg)(),(0,r.iD)("span",C,"尚未付款"))])])])]),!1===H.order.is_paid?((0,r.wg)(),(0,r.iD)("div",T,[(0,r._)("button",{type:"button",class:"btn btn-brown",onClick:e[0]||(e[0]=(...t)=>N.payOrder&&N.payOrder(...t))},"確認付款")])):(0,r.kq)("",!0)])])])])])],64)}s(7658);var H=s(5147),N=s.n(H),U={data(){return{orderId:"",order:{user:{}},freight:60,isLoading:!1}},methods:{getOrder(){this.isLoading=!0;const t=`https://vue3-course-api.hexschool.io/api/zyt-api/order/${this.orderId}`;this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.order=t.data.order)}))},payOrder(){this.isLoading=!0;const t=`https://vue3-course-api.hexschool.io/api/zyt-api/pay/${this.orderId}`;this.$http.post(t).then((t=>{this.isLoading=!1,t.data.success&&(this.getOrder(),N().fire({position:"center",icon:"success",title:"付款成功",showConfirmButton:!1,timer:3e3}),setTimeout((()=>this.$router.push("/products")),3500))}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},Y=s(89);const B=(0,Y.Z)(U,[["render",q]]);var E=B}}]);
//# sourceMappingURL=138.f62558eb.js.map