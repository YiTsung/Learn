{"version":3,"file":"js/138.f62558eb.js","mappings":"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","sources":["webpack://work/./src/views/Front/UserCheckoutView.vue","webpack://work/./src/views/Front/UserCheckoutView.vue?bbe7"],"sourcesContent":["<template>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <section class=\"mt-3\">\r\n        <div class=\"container\">\r\n            <div class=\"row justify-content-center align-items-center position-relative mt-5\">\r\n                <div class=\"col-10\">\r\n                    <div class=\"progress mx-3\" style=\"height: 5px;\">\r\n                        <div class=\"progress-bar bg-info\" role=\"progressbar\"  style=\"width: 100%;\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-10 d-flex justify-content-between position-absolute top-0 translate-middle-y mt-3\">\r\n                    <div class=\"text-center\">\r\n                        <span class=\"badge bg-brown rounded-circle p-2 \" style=\"width: 2rem; height:2rem;\">\r\n                            <i class=\"bi bi-basket\"></i>\r\n                        </span>\r\n                        <p class=\"mb-0\">購物車</p>\r\n                    </div>\r\n                    <div class=\"text-center\">\r\n                        <span class=\"badge bg-brown rounded-circle p-2\" style=\"width: 2rem; height: 2rem;\">\r\n                            <i class=\"bi bi-clipboard-check-fill\"></i>\r\n                        </span>\r\n                        <p class=\"mb-0\">填寫資料</p>\r\n                    </div>\r\n                    <div class=\"text-center\">\r\n                        <span class=\"badge bg-brown rounded-circle p-2\" style=\"width: 2rem; height: 2rem;\">\r\n                            <i class=\"bi bi-credit-card-fill\"></i>\r\n                        </span>\r\n                        <p class=\"mb-0\">付款確認</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <section class=\"my-7\">\r\n        <div class=\"container\">\r\n            <div class=\"border p-3 p-md-5\">\r\n                <div class=\"row justify-content-center\">\r\n                    <form class=\"col-12 col-lg-8 py-3 text-brown\">\r\n                        <h2 class=\"fs-3\"><i class=\"bi bi-c-circle\"></i>購物清單</h2>\r\n                        <table class=\"table align-middle mt-3\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th class=\"table-title\">品名</th>\r\n                                    <th class=\"text-end table-title\">數量</th>\r\n                                    <th class=\"text-end table-title\">小計</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n                                    <td>{{ item.product.title }}</td>\r\n                                    <td class=\"text-end\">{{ item.qty }}/{{ item.product.unit }}</td>\r\n                                    <td class=\"text-end\">{{  $filters.currency(item.product.price) }}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <table class=\"w-100\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td class=\"text-end py-2\">運費</td>\r\n                                    <td class=\"text-end w-50\">NT$ {{ $filters.currency(freight) }}</td>\r\n                                </tr>\r\n                                <tr class=\"border-top border-dark\">\r\n                                    <td class=\"text-end py-2\">總計金額</td>\r\n                                    <td class=\"text-end w-50\">NT$ {{ $filters.currency(order.total + freight) }}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </form>\r\n                    <form class=\"col-12 col-lg-8 mt-3\">\r\n                        <h2 class=\"fs-3 text-brown\"><i class=\"bi bi-c-circle\"></i>收件人資料</h2>\r\n                        <table class=\"table border mt-3 border-dark\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th width=\"100\" class=\"table-title\">Email</th>\r\n                                    <td>{{ order.user.email }}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th class=\"table-title\">姓名</th>\r\n                                    <td>{{ order.user.name }}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th class=\"table-title\">收件人電話</th>\r\n                                    <td>{{ order.user.tel }}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th class=\"table-title\">收件人地址</th>\r\n                                    <td>{{ order.user.address }}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th class=\"table-title\">付款狀態</th>\r\n                                    <td>\r\n                                        <span v-if=\"!order.is_paid\" >尚未付款</span>\r\n                                        <span v-else class=\"text-success\">付款完成</span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        <div class=\"text-end\" v-if=\"order.is_paid === false\">\r\n                            <button type=\"button\" class=\"btn btn-brown\" @click=\"payOrder\">確認付款</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script>\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js'\r\nimport 'sweetalert2/src/sweetalert2.scss'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orderId: '',\r\n      order: {\r\n        user: {}\r\n      },\r\n      freight: 60, // 運費\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.order = res.data.order\r\n          }\r\n        })\r\n    },\r\n    payOrder () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\r\n      this.$http.post(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.getOrder()\r\n            Swal.fire({\r\n              position: 'center',\r\n              icon: 'success',\r\n              title: '付款成功',\r\n              showConfirmButton: false,\r\n              timer: 3000\r\n            })\r\n            setTimeout(() => this.$router.push('/products'), 3500)\r\n          }\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.orderId = this.$route.params.orderId\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.bg-brown{\r\n    background: rgb(156, 44, 44);\r\n}\r\n.text-brown{\r\n    color:  rgb(160, 31, 31);\r\n}\r\n.table-title{\r\n    background:  rgb(247, 223, 223) !important;\r\n}\r\n.btn-brown{\r\n    border: 1px solid rgb(160, 31, 31);\r\n}\r\n.btn-brown:hover{\r\n    background: rgb(160, 31, 31);\r\n    color: white;\r\n}\r\n</style>\r\n","import { render } from \"./UserCheckoutView.vue?vue&type=template&id=41b20c32\"\nimport script from \"./UserCheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckoutView.vue?vue&type=script&lang=js\"\n\nimport \"./UserCheckoutView.vue?vue&type=style&index=0&id=41b20c32&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","role","width","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createElementBlock","_Fragment","_renderList","order","products","item","key","id","_toDisplayString","product","title","_hoisted_10","qty","unit","_hoisted_11","_ctx","$filters","currency","price","_hoisted_12","_hoisted_13","_hoisted_14","freight","_hoisted_15","_hoisted_16","_hoisted_17","total","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","user","email","_hoisted_22","name","_hoisted_23","tel","_hoisted_24","address","_hoisted_25","is_paid","_hoisted_27","_hoisted_26","_hoisted_28","type","onClick","_cache","args","$options","payOrder","data","orderId","methods","getOrder","this","api","$http","get","then","res","success","post","Swal","position","icon","showConfirmButton","timer","setTimeout","$router","push","created","$route","params","__exports__","render"],"sourceRoot":""}